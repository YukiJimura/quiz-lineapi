<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LINE API åŸºç¤çŸ¥è­˜ã‚¯ã‚¤ã‚º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Tailwind gray-100 */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        .quiz-container {
            background-color: #ffffff; /* Tailwind white */
            padding: 30px;
            border-radius: 12px; /* Tailwind rounded-xl */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1); /* Tailwind shadow-xl */
            max-width: 700px;
            width: 100%;
            text-align: center;
        }
        .day-title {
            font-size: 1.5rem; /* Tailwind text-2xl */
            font-weight: 600; /* Tailwind font-semibold */
            margin-bottom: 20px;
            color: #1d4ed8; /* Tailwind blue-700 */
        }
         .info-message {
            font-size: 1rem;
            color: #4b5563; /* Tailwind gray-600 */
            margin-bottom: 20px;
         }
        .question-area {
            margin-bottom: 20px;
        }
        .question-text {
            font-size: 1.125rem; /* Tailwind text-lg */
            font-weight: 600; /* Tailwind font-semibold */
            margin-bottom: 15px;
            color: #1f2937; /* Tailwind gray-900 */
            text-align: left;
        }
        .reference {
            font-size: 0.875rem; /* Tailwind text-sm */
            color: #6b7280; /* Tailwind gray-500 */
            margin-top: 10px;
            text-align: right;
             white-space: pre-wrap; /* æ”¹è¡Œã‚’åæ˜  */
        }
        .options-area button {
            display: block;
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid #d1d5db; /* Tailwind gray-300 */
            border-radius: 8px; /* Tailwind rounded-lg */
            background-color: #e5e7eb; /* Tailwind gray-200 */
            text-align: left;
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease;
            font-size: 1rem; /* Tailwind text-base */
            color: #1f2937; /* Tailwind gray-900 */
        }
        .options-area button:hover:not(:disabled) {
            background-color: #d1d5db; /* Tailwind gray-300 */
        }
        .options-area button:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
         .text-input-area textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid #d1d5db; /* Tailwind gray-300 */
            border-radius: 8px; /* Tailwind rounded-lg */
            font-size: 1rem;
            min-height: 100px; /* Adjust height as needed */
         }
        .text-input-area button {
            padding: 12px 20px;
            background-color: #3b82f6; /* Tailwind blue-500 */
            color: white;
            border: none;
            border-radius: 8px; /* Tailwind rounded-lg */
            cursor: pointer;
            font-size: 1rem; /* Tailwind text-base */
            transition: background-color 0.2s ease;
        }
         .text-input-area button:hover {
            background-color: #2563eb; /* Tailwind blue-600 */
         }

        .feedback-area {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px; /* Tailwind rounded-lg */
            text-align: left;
            min-height: 80px; /* Ensure space even when empty */
            white-space: pre-wrap; /* è§£èª¬ã®æ”¹è¡Œã‚’åæ˜  */
        }
        .feedback-area.correct {
            background-color: #d1fae5; /* Tailwind green-100 */
            border: 1px solid #34d399; /* Tailwind green-500 */
            color: #065f46; /* Tailwind green-900 */
        }
        .feedback-area.incorrect {
            background-color: #fee2e2; /* Tailwind red-100 */
            border: 1px solid #f87171; /* Tailwind red-500 */
            color: #991b1b; /* Tailwind red-900 */
        }
         .day-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px; /* Tailwind rounded-lg */
            text-align: center;
            font-size: 1.125rem; /* Tailwind text-lg */
            font-weight: 600;
            color: #1f2937;
            background-color: #e0f2f7; /* Tailwind cyan-100 */
            border: 1px solid #0891b2; /* Tailwind cyan-600 */
             white-space: pre-wrap; /* æ”¹è¡Œã‚’åæ˜  */
        }
        .next-button {
            margin-top: 20px;
            padding: 12px 20px;
            background-color: #3b82f6; /* Tailwind blue-500 */
            color: white;
            border: none;
            border-radius: 8px; /* Tailwind rounded-lg */
            cursor: pointer;
            font-size: 1rem; /* Tailwind text-base */
            transition: background-color 0.2s ease;
        }
        .next-button:hover {
            background-color: #2563eb; /* Tailwind blue-600 */
        }
         .start-button {
            padding: 12px 20px;
            background-color: #10b981; /* Tailwind green-500 */
            color: white;
            border: none;
            border-radius: 8px; /* Tailwind rounded-lg */
            cursor: pointer;
            font-size: 1.25rem; /* Tailwind text-xl */
            transition: background-color 0.2s ease;
        }
        .start-button:hover {
            background-color: #059669; /* Tailwind green-600 */
        }
        .hidden {
            display: none;
        }
         /* Ensure responsiveness for smaller screens */
        @media (max-width: 600px) {
            .quiz-container {
                padding: 20px;
            }
            .day-title {
                 font-size: 1.25rem;
            }
            .question-text {
                font-size: 1rem;
            }
            .options-area button, .text-input-area textarea, .text-input-area button {
                padding: 10px;
                font-size: 0.9rem;
            }
            .next-button, .start-button {
                 padding: 10px 15px;
                 font-size: 1rem;
            }
             .day-feedback {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div id="start-screen">
            <h2 class="text-2xl font-bold mb-4">LINE API åŸºç¤çŸ¥è­˜ã‚¯ã‚¤ã‚º</h2>
            <p class="mb-6">APIã«é–¢ã™ã‚‹åŸºç¤çŸ¥è­˜ã®ç†è§£åº¦ã‚’æ¸¬ã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¯ã‚¤ã‚ºã§ã™ã€‚</p>
            <p class="mb-6">å…¨5æ—¥åˆ†ã€å„æ—¥3å•ãšã¤ã®æ§‹æˆã§ã™ã€‚</p>
             <p id="event-period" class="info-message"></p>
             <p id="today-status" class="info-message"></p>
            <button id="start-quiz-button" class="start-button">ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ã™ã‚‹</button>
        </div>

        <div id="quiz-screen" class="hidden">
            <div id="day-title" class="day-title"></div>
            <div id="question-area" class="question-area">
                <div id="question-text" class="question-text"></div>
                <div id="reference" class="reference"></div>
            </div>
            <div id="options-area" class="options-area">
                </div>
             <div id="text-input-area" class="text-input-area hidden">
                 <textarea id="text-answer" placeholder="å›ç­”ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>
                 <button id="submit-text-answer">å›ç­”ã™ã‚‹</button>
             </div>
            <div id="feedback-area" class="feedback-area hidden"></div>
            <div id="day-feedback-area" class="day-feedback hidden"></div>
            <button id="next-button" class="next-button hidden">æ¬¡ã®å•é¡Œã¸</button>
        </div>
    </div>

    <script>
        // ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ (5æ—¥åˆ† x 3å• = 15å•)
        // å„æ—¥ã®ãƒ†ãƒ¼ãƒã¨å•é¡Œã‚’å«ã¿ã¾ã™
        const quizData = [
            // Day 1: APIã®åŸºæœ¬çš„ãªå®šç¾©ã¨å½¹å‰²
            {
                day: 1,
                theme: "APIã®åŸºæœ¬çš„ãªå®šç¾©ã¨å½¹å‰²",
                questions: [
                    {
                        question: "APIã¨ã¯ã€Application, Programming, ( A )ã‚’ç•¥ã—ãŸã‚‚ã®ã§ã™ã€‚( A )ã«ã‚ã¦ã¯ã¾ã‚‹è¨€è‘‰ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚",
                        options: ["Interface", "Integration", "Information", "Interaction"],
                        answer: "Interface",
                        explanation: "APIã¯Application Programming Interfaceã®ç•¥ã§ã™ã€‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥­ç•Œã«ãŠã„ã¦ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ç•°ãªã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã¤ãªãå½¹å‰²ã‚’æœãŸã—ã¾ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P27, P45" },
                        type: "multiple-choice"
                    },
                    {
                        question: "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥­ç•Œã«ãŠã„ã¦ã€ã€Œã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ã¯ã©ã®ã‚ˆã†ãªæ„å‘³ã§ä½¿ç”¨ã•ã‚Œã¾ã™ã‹ï¼Ÿ",
                        options: ["ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜å ´æ‰€", "ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å®Ÿè¡Œç’°å¢ƒ", "ç•°ãªã‚‹2ã¤ã®ä½•ã‹ã‚’ã€Œã¤ãªã’ã‚‹ã€å ´æ‰€ã‚„ãƒ«ãƒ¼ãƒ«ã€è¦ç´„", "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ãƒ‡ã‚¶ã‚¤ãƒ³"],
                        answer: "ç•°ãªã‚‹2ã¤ã®ä½•ã‹ã‚’ã€Œã¤ãªã’ã‚‹ã€å ´æ‰€ã‚„ãƒ«ãƒ¼ãƒ«ã€è¦ç´„",
                        explanation: "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥­ç•Œã«ãŠã‘ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¯ã€ç•°ãªã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚„ã‚µãƒ¼ãƒ“ã‚¹é–“ã§æƒ…å ±ã‚’ã‚„ã‚Šå–ã‚Šã—ã€é€£æºã™ã‚‹ãŸã‚ã®æ¥ç‚¹ã‚„è¦ç´„ã‚’æ„å‘³ã—ã¾ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P27, P45" },
                        type: "multiple-choice"
                    },
                    {
                        question: "LINEã«ãŠã„ã¦ã€APIã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦å¯èƒ½ã«ãªã‚‹ã“ã¨ã‚’ã€OAMã®ã¿ã®å ´åˆã¨æ¯”è¼ƒã—ã¦å…·ä½“çš„ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚",
                        answer: "OAMã ã‘ã§ã¯ä¸€æ–‰é…ä¿¡ã‚„å®šå‹å¿œç­”ã—ã‹ã§ãã¾ã›ã‚“ãŒã€APIã‚’ä½¿ã†ã¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€äººã²ã¨ã‚Šã«åˆã‚ã›ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã£ãŸã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¡Œå‹•ã«å¿œã˜ã¦ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’å¤‰ãˆãŸã‚Šã€å¤–éƒ¨ã®ã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºã—ã¦é¡§å®¢ç®¡ç†ã‚’ã—ãŸã‚Šã¨ã€ã‚ˆã‚ŠæŸ”è»Ÿã§é«˜åº¦ãªå¯¾å¿œãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚",
                        explanation: "APIã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€OAMã®åŸºæœ¬æ©Ÿèƒ½ã«åŠ ãˆã¦ã€å€‹äººå˜ä½ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆã€å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æºã«ã‚ˆã‚‹é«˜åº¦ãªé¡§å®¢å¯¾å¿œãªã©ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P27, P29, P33" },
                        type: "text-input"
                    }
                ],
                encouragement: "Day 1ã‚¯ãƒªã‚¢ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼APIã®åŸºæœ¬ã¯ãƒãƒƒãƒãƒªã§ã™ã­ï¼ã“ã®çŸ¥è­˜ã‚’æ´»ã‹ã—ã¦ã€ä»Šæ—¥ã®æ¥­å‹™ã‚‚åŠ¹ç‡çš„ã«é€²ã‚ã¾ã—ã‚‡ã†ï¼âœ¨"
            },
            // Day 2: OAMã¨APIã§ã§ãã‚‹ã“ã¨ã®æ¯”è¼ƒ
            {
                day: 2,
                theme: "OAMã¨APIã§ã§ãã‚‹ã“ã¨ã®æ¯”è¼ƒ",
                questions: [
                     {
                        question: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ã€ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆã€ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®šãªã©ã€Official Account Manager (OAM) ã¨APIã®ä¸¡æ–¹ã§å®Ÿç¾å¯èƒ½ãªæ©Ÿèƒ½ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
                        options: ["ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡", "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š", "ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¨­å®šãƒ»æŠ•ç¨¿", "LINEé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡"],
                        answer: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡",
                        explanation: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ã¯OAMã¨APIã®ä¸¡æ–¹ã§åŸºæœ¬çš„ãªæ©Ÿèƒ½ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®šã‚„ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¨­å®šãƒ»æŠ•ç¨¿ã¯OAMã®ã¿ã€LINEé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ã¯APIã®ã¿ã®æ©Ÿèƒ½ã§ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P29, P30" },
                        type: "multiple-choice"
                    },
                    {
                        question: "ä»¥ä¸‹ã®æ©Ÿèƒ½ã®ã†ã¡ã€Official Account Manager (OAM) ã®ã¿ã§å®Ÿç¾å¯èƒ½ã§ã‚ã‚Šã€APIã§ã¯åˆ©ç”¨ã§ããªã„æ©Ÿèƒ½ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
                        options: ["å€‹äººå˜ä½ã§ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡", "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š", "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã®ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ", "LINEé€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é…ä¿¡"],
                        answer: "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®š",
                        explanation: "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¨­å®šã¯OAMã§ã®ã¿å¯èƒ½ãªæ©Ÿèƒ½ã§ã™ã€‚ãã®ä»–ã®æ©Ÿèƒ½ã¯APIã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P29, P30" },
                        type: "multiple-choice"
                    },
                    {
                        question: "OAMã®ãƒãƒ£ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã¨ã€APIåˆ©ç”¨æ™‚ã®Botãƒ¢ãƒ¼ãƒ‰ã¯ä½µç”¨ã§ãã¾ã™ã‹ï¼Ÿãã®ç†ç”±ã‚‚ç°¡å˜ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚",
                        answer: "ã„ã„ãˆã€ä½µç”¨ã§ãã¾ã›ã‚“ã€‚OAMã®ãƒãƒ£ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã¨APIåˆ©ç”¨æ™‚ã®Botãƒ¢ãƒ¼ãƒ‰ã¯ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‡¦ç†æ–¹æ³•ãŒç•°ãªã‚‹ãŸã‚ã€åŒæ™‚ã«æœ‰åŠ¹ã«ã™ã‚‹ã¨äºˆæœŸã—ãªã„å‹•ä½œã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚",
                        explanation: "OAMã®ãƒãƒ£ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã¨APIåˆ©ç”¨æ™‚ã®Botãƒ¢ãƒ¼ãƒ‰ã¯æ’ä»–åˆ©ç”¨ã¨ãªã‚Šã€ä½µç”¨ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã€ãã‚Œãã‚ŒãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼ã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚ã§ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P48, P49, P50" },
                        type: "text-input"
                    }
                ],
                 encouragement: "Day 2ã‚¯ãƒªã‚¢ã§ã™ï¼OAMã¨APIã®é•ã„ã‚’ç†è§£ã™ã‚‹ã“ã¨ã¯ã€é©åˆ‡ãªãƒ„ãƒ¼ãƒ«é¸æŠã«ç¹‹ãŒã‚Šã¾ã™ã€‚ä»Šæ—¥ã®æ¥­å‹™ã§ã‚‚ã€ãã‚Œãã‚Œã®ç‰¹æ€§ã‚’æ„è­˜ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼ğŸš€"
            },
             // Day 3: LINEã®ä»£è¡¨çš„ãªAPIç¨®é¡ã¨æ¦‚è¦
            {
                day: 3,
                theme: "LINEã®ä»£è¡¨çš„ãªAPIç¨®é¡ã¨æ¦‚è¦",
                questions: [
                    {
                        question: "ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’æä¾›ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒLINEã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ã£ã¦å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹APIã®åç§°ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: ["Messaging API", "LINEãƒ­ã‚°ã‚¤ãƒ³", "LIFF", "LINE Pay Sales Promotion API"],
                        answer: "LINEãƒ­ã‚°ã‚¤ãƒ³",
                        explanation: "LINEãƒ­ã‚°ã‚¤ãƒ³ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒLINEã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚’ä½¿ã£ã¦å¤–éƒ¨ã®Webã‚µã‚¤ãƒˆã‚„ã‚¢ãƒ—ãƒªã«å®‰å…¨ã«ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P46" },
                        type: "multiple-choice"
                    },
                    {
                        question: "LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼é–“ã§ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€å—ä¿¡ã‚„ã€å¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¨­å®šãªã©ã‚’è¡Œã†ãŸã‚ã®APIã®åç§°ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: ["LINEãƒ­ã‚°ã‚¤ãƒ³", "Messaging API", "LIFF", "LINE Pay Sales Promotion API"],
                        answer: "Messaging API",
                        explanation: "Messaging APIã¯ã€LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚³ã‚¢æ©Ÿèƒ½ã§ã‚ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®APIã§ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P46" },
                        type: "multiple-choice"
                    },
                    {
                        question: "Messaging APIã®æ©Ÿèƒ½ã®ã†ã¡ã€ã€ŒReply APIã€ã€ŒPush APIã€ã€ŒMulticast APIã€ã€ŒBroadcast APIã€ã®ãã‚Œãã‚Œã®ç”¨é€”ã‚’ç°¡å˜ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚",
                        answer: "Reply API: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã©ç‰¹å®šã®ã‚¤ãƒ™ãƒ³ãƒˆã¸ã®å¿œç­”ã€‚\nPush API: ä»»æ„ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã€‚\nMulticast API: è¤‡æ•°ã®æŒ‡å®šã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸åŒæ™‚ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã€‚\nBroadcast API: å‹ã ã¡ã«ãªã£ã¦ã„ã‚‹å…¨ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸åŒæ™‚ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã€‚",
                        explanation: "ãã‚Œãã‚Œã®APIã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡æ–¹æ³•ã‚„å¯¾è±¡ãŒç•°ãªã‚Šã¾ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P47" },
                        type: "text-input"
                    }
                ],
                 encouragement: "Day 3ã‚¯ãƒªã‚¢ã§ã™ï¼æ§˜ã€…ãªAPIã®åå‰ã¨å½¹å‰²ã‚’è¦šãˆã‚‹ã®ã¯å¤§å¤‰ã§ã™ãŒã€ä¸€ã¤ãšã¤ç†è§£ã—ã¦ã„ãã¾ã—ã‚‡ã†ï¼ä»Šæ—¥ã®æ¥­å‹™ã‚‚ã€æ–°ã—ã„çŸ¥è­˜ã‚’å¸åã™ã‚‹ã¤ã‚‚ã‚Šã§é ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼ğŸ’¡"
            },
            // Day 4: ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãƒ»ãƒãƒ£ãƒãƒ«ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®æ¦‚å¿µã¨é–¢ä¿‚æ€§
            {
                day: 4,
                theme: "ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãƒ»ãƒãƒ£ãƒãƒ«ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®æ¦‚å¿µã¨é–¢ä¿‚æ€§",
                questions: [
                    {
                        question: "LINE APIã‚’åˆ©ç”¨ã™ã‚‹ä¸Šã§ã€ã‚µãƒ¼ãƒ“ã‚¹æä¾›è€…ã‚’æŒ‡ã™è¨€è‘‰ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: ["ãƒãƒ£ãƒãƒ«", "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID", "ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼", "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ"],
                        answer: "ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼",
                        explanation: "ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã¯ã€LINEä¸Šã§ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã™ã‚‹äº‹æ¥­è€…ã‚’æŒ‡ã—ã¾ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P2" },
                        type: "multiple-choice"
                    },
                    {
                        question: "LINEã¨å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã‚’ã¤ãªãé€šä¿¡è·¯ã§ã‚ã‚Šã€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’å®šã‚ã¦ç™ºè¡Œã•ã‚Œã‚‹ã‚‚ã®ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: ["ãƒãƒ£ãƒãƒ«", "ãƒ¦ãƒ¼ã‚¶ãƒ¼ID", "ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼", "Messaging API"],
                        answer: "ãƒãƒ£ãƒãƒ«",
                        explanation: "ãƒãƒ£ãƒãƒ«ã¯ã€LINEãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¨å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é–“ã®é€£æºã‚’å¯èƒ½ã«ã™ã‚‹ãŸã‚ã®é€šä¿¡å˜ä½ã§ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P7" },
                        type: "multiple-choice"
                    },
                    {
                        question: "LINEãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å€‹åˆ¥è­˜åˆ¥å­ã§ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¯ã€ãƒãƒ£ãƒãƒ«ã‚’é€šã—ã¦å¤–éƒ¨ã«æä¾›ã•ã‚Œã‚‹éš›ã«ã€ã©ã®ã‚ˆã†ãªç‰¹å¾´ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿï¼ˆç•°ãªã‚‹ãƒãƒ£ãƒãƒ«ã®å ´åˆã€åŒä¸€ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®å ´åˆãªã©ï¼‰",
                        answer: "ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¯ãƒãƒ£ãƒãƒ«ã”ã¨ã«ç•°ãªã‚‹å€¤ã«ãªã‚Šã¾ã™ã€‚ãŸã ã—ã€åŒä¸€ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãŒç™ºè¡Œã—ãŸè¤‡æ•°ã®ãƒãƒ£ãƒãƒ«ã§ã‚ã‚Œã°ã€åŒã˜LINEãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã¦ã¯åŒã˜ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒç™ºè¡Œã•ã‚Œã¾ã™ã€‚",
                        explanation: "ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¯ãƒãƒ£ãƒãƒ«ã«ç´ã¥ã„ã¦ç™ºè¡Œã•ã‚Œã‚‹ãŸã‚ã€ç•°ãªã‚‹ãƒãƒ£ãƒãƒ«ã§ã¯ç•°ãªã‚‹å€¤ã«ãªã‚Šã¾ã™ãŒã€åŒã˜ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å†…ã§ã¯å…±é€šã®å€¤ã«ãªã‚Šã¾ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P7" },
                        type: "text-input"
                    }
                ],
                 encouragement: "Day 4ã‚¯ãƒªã‚¢ã§ã™ï¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã€ãƒãƒ£ãƒãƒ«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®é–¢ä¿‚æ€§ã¯APIé€£æºã®è‚ã§ã™ã€‚ã—ã£ã‹ã‚Šç†è§£ã—ã¦ã€ä»Šæ—¥ã®æ¥­å‹™ã§æ´»ã‹ã›ã‚‹ã‹è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ï¼ğŸ’ª"
            },
             // Day 5: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®åˆ©ç”¨ãƒ«ãƒ¼ãƒ«ã¨APIåˆ©ç”¨é–‹å§‹ã‚¹ãƒ†ãƒƒãƒ—
            {
                day: 5,
                theme: "ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®åˆ©ç”¨ãƒ«ãƒ¼ãƒ«ã¨APIåˆ©ç”¨é–‹å§‹ã‚¹ãƒ†ãƒƒãƒ—",
                questions: [
                    {
                        question: "è¤‡æ•°ã®ã‚µãƒ¼ãƒ“ã‚¹ã§å–å¾—ã—ãŸLINEãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŒæ„ãªãç´ã¥ã‘ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ã¯åŸå‰‡ã¨ã—ã¦èªã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ",
                        options: ["ã¯ã„ã€èªã‚ã‚‰ã‚Œã¦ã„ã¾ã™", "ã„ã„ãˆã€èªã‚ã‚‰ã‚Œã¦ã„ã¾ã›ã‚“", "ç´ã¥ã‘ã‚‹æƒ…å ±ã®ç¨®é¡ã«ã‚ˆã‚Šã¾ã™", "APIã®ç¨®é¡ã«ã‚ˆã‚Šã¾ã™"],
                        answer: "ã„ã„ãˆã€èªã‚ã‚‰ã‚Œã¦ã„ã¾ã›ã‚“",
                        explanation: "LINE User Data Policyã«ã‚ˆã‚Šã€è¤‡æ•°ã®ã‚µãƒ¼ãƒ“ã‚¹ã§å–å¾—ã—ãŸLINEãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’ç´ã¥ã‘ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ã¯åŸå‰‡ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ï¼ˆå½“ç¤¾ãŒè¨±å¯ã—ãŸå ´åˆã‚’é™¤ãï¼‰ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P7, P8" },
                        type: "multiple-choice"
                    },
                    {
                        question: "LINE APIã®åˆ©ç”¨ã‚’é–‹å§‹ã™ã‚‹ã«ã‚ãŸã‚Šã€ã¾ãšæœ€åˆã«è¡Œã†ã¹ãä¸»ãªã‚¹ãƒ†ãƒƒãƒ—ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: ["LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é–‹è¨­ã™ã‚‹", "APIåˆ©ç”¨è¦ç´„ã«åŒæ„ã™ã‚‹", "é–‹ç™ºæ–¹æ³•ã‚’æ±ºå®šã™ã‚‹", "åˆæœŸè¨­å®šã‚’è¡Œã†"],
                        answer: "é–‹ç™ºæ–¹æ³•ã‚’æ±ºå®šã™ã‚‹",
                        explanation: "APIã‚’åˆ©ç”¨ã—ãŸé–‹ç™ºã‚’å§‹ã‚ã‚‹å‰ã«ã€è‡ªç¤¾é–‹ç™ºã‹å¤–éƒ¨å§”è¨—ã‹ãªã©ã€é–‹ç™ºæ–¹æ³•ã‚’æ±ºå®šã™ã‚‹ã“ã¨ãŒæœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P34" },
                        type: "multiple-choice"
                    },
                    {
                        question: "APIåˆ©ç”¨é–‹å§‹ã¾ã§ã®ä¸»ãªã‚¹ãƒ†ãƒƒãƒ—ã‚’ã€ã€Œé–‹ç™ºæ–¹æ³•ã®æ±ºå®šã€ã€ŒåˆæœŸè¨­å®šï¼ˆOAM/LINE Developersï¼‰ã€ã€Œé–‹ç™ºã€ã®3ã¤ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ã€é©åˆ‡ãªé †åºã§èª¬æ˜ã—ã¦ãã ã•ã„ã€‚",
                        answer: "APIåˆ©ç”¨é–‹å§‹ã¾ã§ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ã€ã¾ãšã€Œé–‹ç™ºæ–¹æ³•ã®æ±ºå®šã€ã‚’è¡Œã„ã€æ¬¡ã«APIã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®ã€ŒåˆæœŸè¨­å®šï¼ˆOAM/LINE Developersï¼‰ã€ã‚’è¡Œã„ã€æœ€å¾Œã«å®Ÿéš›ã®ã‚·ã‚¹ãƒ†ãƒ ã€Œé–‹ç™ºã€ã«é€²ã¿ã¾ã™ã€‚",
                        explanation: "é–‹ç™ºæ–¹æ³•ã®æ±ºå®šã€åˆæœŸè¨­å®šã€é–‹ç™ºã¨ã„ã†æµã‚Œã§APIã®åˆ©ç”¨ã‚’é–‹å§‹ã—ã¾ã™ã€‚",
                        reference: { title: "APIå‹‰å¼·ä¼šBasic.pptx", page: "P34, P35" },
                        type: "text-input"
                    }
                ],
                 encouragement: "Day 5ã‚¯ãƒªã‚¢ã€ãã—ã¦å…¨æ—¥ç¨‹ã‚¯ãƒªã‚¢ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ğŸ‰\nAPIã®åŸºç¤çŸ¥è­˜ã€ã—ã£ã‹ã‚Šèº«ã«ã¤ãã¾ã—ãŸã­ï¼\nã“ã®å­¦ã³ã‚’è‡ªä¿¡ã«ã€ä»Šæ—¥ã®æ¥­å‹™ã€ãã—ã¦ã“ã‚Œã‹ã‚‰ã®é–‹ç™ºã«ç©æ¥µçš„ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã„ãã¾ã—ã‚‡ã†ï¼å¿œæ´ã—ã¦ã„ã¾ã™ï¼ğŸ˜Š"
            }
        ];

        // ã‚¤ãƒ™ãƒ³ãƒˆæœŸé–“ (5/12 00:00 ã‹ã‚‰ 5/19 23:59:59)
        const eventStartDate = new Date('2025-05-12T00:00:00+09:00'); // ã‚¤ãƒ™ãƒ³ãƒˆé–‹å§‹æ—¥ 5æœˆ12æ—¥ 00:00 JST
        const eventEndDate = new Date('2025-05-19T23:59:59+09:00'); // ã‚¤ãƒ™ãƒ³ãƒˆçµ‚äº†æ—¥ 5æœˆ19æ—¥ 23:59:59 JST

        let currentDay = 0; // 0ã‹ã‚‰4ã§5æ—¥åˆ†
        let currentQuestionIndex = 0; // 0ã‹ã‚‰2ã§å„æ—¥3å•
        let correctAnswersToday = 0; // ãã®æ—¥ã®æ­£è§£æ•°

        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const startButton = document.getElementById('start-quiz-button');
        const eventPeriodElement = document.getElementById('event-period');
        const todayStatusElement = document.getElementById('today-status');
        const dayTitleElement = document.getElementById('day-title');
        const questionAreaElement = document.getElementById('question-area');
        const questionTextElement = document.getElementById('question-text');
        const referenceElement = document.getElementById('reference');
        const optionsAreaElement = document.getElementById('options-area');
        const textInputAreaElement = document.getElementById('text-input-area');
        const textAnswerElement = document.getElementById('text-answer');
        const submitTextAnswerButton = document.getElementById('submit-text-answer');
        const feedbackAreaElement = document.getElementById('feedback-area');
        const dayFeedbackAreaElement = document.getElementById('day-feedback-area');
        const nextButtonElement = document.getElementById('next-button');

        // ã‚¤ãƒ™ãƒ³ãƒˆæœŸé–“ã¨ä»Šæ—¥ã®çŠ¶æ…‹ã‚’è¡¨ç¤º
        function displayEventStatus() {
            const now = new Date();
            eventPeriodElement.textContent = `é–‹å‚¬æœŸé–“: ${eventStartDate.toLocaleDateString()} - ${eventEndDate.toLocaleDateString()}`;

            if (now < eventStartDate) {
                todayStatusElement.textContent = "ã‚¯ã‚¤ã‚ºã¯ã¾ã é–‹å§‹ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚é–‹å§‹ã¾ã§ãŠå¾…ã¡ãã ã•ã„ã€‚";
                startButton.disabled = true;
            } else if (now > eventEndDate) {
                todayStatusElement.textContent = "ã‚¯ã‚¤ã‚ºæœŸé–“ã¯çµ‚äº†ã—ã¾ã—ãŸã€‚ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼";
                 startButton.disabled = true;
            } else {
                const diffTime = now - eventStartDate;
                const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
                currentDay = diffDays; // ä»Šæ—¥ãŒä½•æ—¥ç›®ã‹ã‚’è¨ˆç®—ã—ã¦è¨­å®š

                if (currentDay >= quizData.length) {
                     todayStatusElement.textContent = `æœ¬æ—¥ã®ã‚¯ã‚¤ã‚ºï¼ˆDay ${quizData.length}ï¼‰ã¯çµ‚äº†ã—ã¾ã—ãŸã€‚`;
                     startButton.disabled = true;
                } else {
                    todayStatusElement.textContent = `æœ¬æ—¥ã¯ Day ${currentDay + 1} ã®ã‚¯ã‚¤ã‚ºã«æŒ‘æˆ¦ã§ãã¾ã™ï¼`;
                    startButton.disabled = false;
                }
            }
        }


        // ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ã™ã‚‹é–¢æ•°
        function startQuiz() {
            const now = new Date();
            if (now < eventStartDate || now > eventEndDate) {
                 alert("ã‚¯ã‚¤ã‚ºé–‹å‚¬æœŸé–“å¤–ã§ã™ã€‚"); // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒƒã‚¯ã‚¹ã«å¤‰æ›´äºˆå®š
                 return;
            }

            const diffTime = now - eventStartDate;
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

            if (diffDays >= quizData.length) {
                 alert("æœ¬æ—¥ã®ã‚¯ã‚¤ã‚ºã¯çµ‚äº†ã—ã¾ã—ãŸã€‚"); // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒƒã‚¯ã‚¹ã«å¤‰æ›´äºˆå®š
                 return;
            }

            currentDay = diffDays; // ä»Šæ—¥ã®ã‚¯ã‚¤ã‚ºã®æ—¥ã‚’è¨­å®š
            currentQuestionIndex = 0;
            correctAnswersToday = 0; // æ–°ã—ã„æ—¥ãªã®ã§æ­£è§£æ•°ã‚’ãƒªã‚»ãƒƒãƒˆ

            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');

            displayQuestion(currentDay, currentQuestionIndex);
            feedbackAreaElement.classList.add('hidden');
            dayFeedbackAreaElement.classList.add('hidden');
            nextButtonElement.classList.add('hidden');
        }

        // æŒ‡å®šã•ã‚ŒãŸæ—¥ã¨å•é¡Œç•ªå·ã®å•é¡Œã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
        function displayQuestion(dayIndex, questionIndex) {
            // ä»Šæ—¥ã®æ—¥ä»˜ã§å›ç­”å¯èƒ½ãªæ—¥ã‹ãƒã‚§ãƒƒã‚¯
            const now = new Date();
            const diffTime = now - eventStartDate;
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

            if (dayIndex > diffDays) {
                 // æœªæ¥ã®æ—¥ã®ã‚¯ã‚¤ã‚ºãªã®ã§è¡¨ç¤ºã—ãªã„
                 dayTitleElement.textContent = `Day ${quizData[dayIndex].day}: ${quizData[dayIndex].theme}`;
                 questionTextElement.textContent = "ã“ã®æ—¥ã®ã‚¯ã‚¤ã‚ºã¯ã¾ã é–‹å§‹ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚";
                 referenceElement.textContent = "";
                 optionsAreaElement.innerHTML = '';
                 textInputAreaElement.classList.add('hidden');
                 feedbackAreaElement.classList.add('hidden');
                 dayFeedbackAreaElement.classList.add('hidden');
                 nextButtonElement.classList.add('hidden');
                 questionAreaElement.classList.remove('hidden'); // å•é¡Œã‚¨ãƒªã‚¢ã¯è¡¨ç¤ºã—ã¦ãŠã
                 return;
            }


            if (dayIndex < quizData.length) {
                const dayData = quizData[dayIndex];
                dayTitleElement.textContent = `Day ${dayData.day}: ${dayData.theme}`;

                if (questionIndex < dayData.questions.length) {
                    const question = dayData.questions[questionIndex];
                    questionTextElement.textContent = `Q${questionIndex + 1}. ${question.question}`;
                     // å‚è€ƒè³‡æ–™ã®è¡¨ç¤ºå½¢å¼ã‚’å¤‰æ›´
                    referenceElement.textContent = `å‡ºå…¸ï¼š${question.reference.title}\nãƒšãƒ¼ã‚¸ï¼š${question.reference.page}`;

                    optionsAreaElement.innerHTML = ''; // é¸æŠè‚¢ã‚¨ãƒªã‚¢ã‚’ã‚¯ãƒªã‚¢
                    textInputAreaElement.classList.add('hidden'); // ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤º
                    dayFeedbackAreaElement.classList.add('hidden'); // æ—¥ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’éè¡¨ç¤ºã«
                    questionAreaElement.classList.remove('hidden'); // å•é¡Œã‚¨ãƒªã‚¢ã‚’è¡¨ç¤º

                    if (question.type === 'multiple-choice') {
                        optionsAreaElement.classList.remove('hidden');
                        textInputAreaElement.classList.add('hidden');
                         // é¸æŠè‚¢ãƒœã‚¿ãƒ³ã‚’ä½œæˆã—ã¦è¿½åŠ 
                        question.options.forEach(option => {
                            const button = document.createElement('button');
                            button.textContent = option;
                            button.addEventListener('click', () => handleAnswer(option, question.answer, question.explanation, question.type));
                            optionsAreaElement.appendChild(button);
                        });
                    } else if (question.type === 'text-input') {
                        optionsAreaElement.classList.add('hidden');
                        textInputAreaElement.classList.remove('hidden');
                        textAnswerElement.value = ''; // å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢
                         // å›ç­”ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã¯å…±é€šã§ä½¿ã†
                    }


                    feedbackAreaElement.classList.add('hidden'); // å€‹åˆ¥ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤º
                    nextButtonElement.classList.add('hidden'); // æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤º
                    // Remove correct/incorrect classes from feedback area
                    feedbackAreaElement.classList.remove('correct', 'incorrect');
                    feedbackAreaElement.textContent = ''; // Clear previous feedback

                } else {
                    // ãã®æ—¥ã®å•é¡ŒãŒå…¨ã¦çµ‚äº†
                    questionAreaElement.classList.add('hidden'); // å•é¡Œã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤º
                    displayDayFeedback();
                }
            } else {
                // å…¨ã¦ã®æ—¥ãŒçµ‚äº†
                questionAreaElement.classList.add('hidden'); // å•é¡Œã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤º
                endQuiz();
            }
        }

        // å›ç­”ã‚’å‡¦ç†ã™ã‚‹é–¢æ•°
        function handleAnswer(selectedOption, correctAnswer, explanation, type) {
            // æ—¢ã«å›ç­”æ¸ˆã¿ã®å ´åˆã¯ä½•ã‚‚ã—ãªã„
            if (!feedbackAreaElement.classList.contains('hidden')) {
                return;
            }

            // å…¨ã¦ã®é¸æŠè‚¢ãƒœã‚¿ãƒ³ã¾ãŸã¯ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚¨ãƒªã‚¢ã‚’ç„¡åŠ¹åŒ–
            if (type === 'multiple-choice') {
                 Array.from(optionsAreaElement.children).forEach(button => {
                     button.disabled = true;
                 });
            } else if (type === 'text-input') {
                 textAnswerElement.disabled = true;
                 submitTextAnswerButton.disabled = true;
            }


            feedbackAreaElement.classList.remove('hidden'); // ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚¨ãƒªã‚¢ã‚’è¡¨ç¤º

            let isCorrect = false;
            if (type === 'multiple-choice') {
                 if (Array.isArray(correctAnswer)) {
                      isCorrect = correctAnswer.includes(selectedOption);
                 } else {
                      isCorrect = (selectedOption === correctAnswer);
                 }
            } else if (type === 'text-input') {
                 // è¨˜è¿°å¼ã®å ´åˆã¯å…¥åŠ›ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã¨æ­£è§£ã‚’æ¯”è¼ƒ
                 const inputText = textAnswerElement.value.trim();
                 // ç°¡å˜ãªæ¯”è¼ƒï¼ˆå¤§æ–‡å­—å°æ–‡å­—ã€å…¨è§’åŠè§’ã€ã‚¹ãƒšãƒ¼ã‚¹ãªã©ã‚’å³å¯†ã«åŒºåˆ¥ã—ãªã„å ´åˆã¯ã€ã“ã“ã§æ­£è¦åŒ–å‡¦ç†ã‚’è¿½åŠ ï¼‰
                 isCorrect = (inputText === correctAnswer.trim());
            }


            if (isCorrect) {
                // æ­£è§£ã®å ´åˆ
                feedbackAreaElement.classList.remove('incorrect');
                feedbackAreaElement.classList.add('correct');
                feedbackAreaElement.textContent = `æ­£è§£ï¼\n${explanation}`;
                correctAnswersToday++; // æ­£è§£æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ
            } else {
                // ä¸æ­£è§£ã®å ´åˆ
                feedbackAreaElement.classList.remove('correct');
                feedbackAreaElement.classList.add('incorrect');
                // è¨˜è¿°å¼ã®å ´åˆã¯æ­£è§£ã‚‚è¡¨ç¤º
                const answerText = (type === 'text-input') ? `\næ­£è§£ã¯ã€Œ${correctAnswer}ã€ã§ã™ã€‚` : `\næ­£è§£ã¯ã€Œ${Array.isArray(correctAnswer) ? correctAnswer.join(' ã¾ãŸã¯ ') : correctAnswer}ã€ã§ã™ã€‚`;
                feedbackAreaElement.textContent = `ä¸æ­£è§£...${answerText}\n${explanation}`;
            }

            nextButtonElement.classList.remove('hidden'); // æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
            // æœ€å¾Œã®å•é¡Œã®å ´åˆã¯ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´
            if (currentQuestionIndex === quizData[currentDay].questions.length - 1) {
                 if (currentDay === quizData.length - 1) {
                     nextButtonElement.textContent = "ã‚¯ã‚¤ã‚ºã‚’çµ‚äº†ã™ã‚‹";
                 } else {
                    nextButtonElement.textContent = "æ¬¡ã®æ—¥ã¸";
                 }
            } else {
                 nextButtonElement.textContent = "æ¬¡ã®å•é¡Œã¸";
            }
        }

        // è¨˜è¿°å¼å•é¡Œã®å›ç­”ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        submitTextAnswerButton.addEventListener('click', () => {
             const question = quizData[currentDay].questions[currentQuestionIndex];
             if (question.type === 'text-input') {
                 handleAnswer(textAnswerElement.value, question.answer, question.explanation, question.type);
             }
        });


        // ãã®æ—¥ã®è§£ç­”ç‡ã«å¿œã˜ãŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
        function displayDayFeedback() {
            questionTextElement.textContent = ""; // å•é¡Œæ–‡ã‚’ã‚¯ãƒªã‚¢
            referenceElement.textContent = ""; // å‚ç…§ã‚’ã‚¯ãƒªã‚¢
            optionsAreaElement.innerHTML = ''; // é¸æŠè‚¢ã‚¨ãƒªã‚¢ã‚’ã‚¯ãƒªã‚¢
            textInputAreaElement.classList.add('hidden'); // ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤º
            feedbackAreaElement.classList.add('hidden'); // å€‹åˆ¥ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’éè¡¨ç¤º

            dayFeedbackAreaElement.classList.remove('hidden'); // æ—¥ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¡¨ç¤º

            const totalQuestionsToday = quizData[currentDay].questions.length;
            const percentage = (correctAnswersToday / totalQuestionsToday) * 100;

            let comment = `Day ${quizData[currentDay].day} çµ‚äº†ï¼\næœ¬æ—¥ã®æ­£è§£æ•°: ${correctAnswersToday} / ${totalQuestionsToday} (${percentage.toFixed(0)}%)`;

             // è§£ç­”ç‡ã«å¿œã˜ãŸã‚³ãƒ¡ãƒ³ãƒˆ
            if (percentage === 100) {
                comment += "\nç´ æ™´ã‚‰ã—ã„ï¼å…¨å•æ­£è§£ã§ã™ï¼";
            } else if (percentage >= 67) { // 2/3
                comment += "\nã‚ã¨ä¸€æ­©ï¼ã‚‚ã†å°‘ã—ã§å…¨å•æ­£è§£ã§ã—ãŸã­ã€‚";
            } else if (percentage >= 34) { // 1/3
                 comment += "\nåŠåˆ†è¿‘ãæ­£è§£ã§ã™ï¼";
            }
            else { // 0/3
                comment += "\nä»Šå›ã¯é›£ã—ã‹ã£ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã­ã€‚";
            }

            // æ—¥ã”ã¨ã®å¿œæ´ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 
            comment += "\n\n" + quizData[currentDay].encouragement;


            dayFeedbackAreaElement.textContent = comment;

            nextButtonElement.classList.remove('hidden'); // æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
             if (currentDay === quizData.length - 1) {
                 nextButtonElement.textContent = "ã‚¯ã‚¤ã‚ºã‚’çµ‚äº†ã™ã‚‹";
             } else {
                nextButtonElement.textContent = "æ¬¡ã®æ—¥ã¸";
             }
        }

        // æ¬¡ã®å•é¡Œã¾ãŸã¯æ¬¡ã®æ—¥ã¸é€²ã‚€ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        nextButtonElement.addEventListener('click', () => {
            if (currentQuestionIndex < quizData[currentDay].questions.length - 1) {
                // æ¬¡ã®å•é¡Œã¸
                currentQuestionIndex++;
                displayQuestion(currentDay, currentQuestionIndex);
            } else {
                // æ¬¡ã®æ—¥ã¸ã€ã¾ãŸã¯ã‚¯ã‚¤ã‚ºçµ‚äº†
                const now = new Date();
                const diffTime = now - eventStartDate;
                const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

                if (currentDay < quizData.length - 1 && currentDay < diffDays) {
                     // æ¬¡ã®æ—¥ã®ã‚¯ã‚¤ã‚ºãŒä»Šæ—¥ä»¥é™ã§ã‚ã‚Œã°é€²ã‚ã‚‹
                     currentDay++;
                     currentQuestionIndex = 0; // å•é¡Œç•ªå·ã‚’ãƒªã‚»ãƒƒãƒˆ
                     correctAnswersToday = 0; // æ­£è§£æ•°ã‚’ãƒªã‚»ãƒƒãƒˆ
                     displayQuestion(currentDay, currentQuestionIndex);
                } else if (currentDay === quizData.length - 1) {
                     // æœ€çµ‚æ—¥ã®ã‚¯ã‚¤ã‚ºãŒçµ‚äº†
                     endQuiz();
                } else {
                     // ã¾ã æ¬¡ã®æ—¥ã«ãªã‚‰ãªã„ã¨é€²ã‚ãªã„
                     alert(`Day ${currentDay + 2} ã®ã‚¯ã‚¤ã‚ºã¯æ˜æ—¥ä»¥é™ã«æŒ‘æˆ¦ã§ãã¾ã™ã€‚`); // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒƒã‚¯ã‚¹ã«å¤‰æ›´äºˆå®š
                     // æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤ºã«ã™ã‚‹ã‹ã€ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´ã™ã‚‹ãªã©ã®UIèª¿æ•´ã‚‚æ¤œè¨
                     nextButtonElement.classList.add('hidden');
                }
            }
        });

        // ã‚¯ã‚¤ã‚ºçµ‚äº†å‡¦ç†
        function endQuiz() {
             dayTitleElement.textContent = "LINE API åŸºç¤çŸ¥è­˜ã‚¯ã‚¤ã‚º å®Œäº†ï¼";
             questionTextElement.textContent = "å…¨ã¦ã®ã‚¯ã‚¤ã‚ºãŒçµ‚äº†ã—ã¾ã—ãŸã€‚ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼";
             referenceElement.textContent = "";
             optionsAreaElement.innerHTML = '';
             textInputAreaElement.classList.add('hidden');
             feedbackAreaElement.classList.add('hidden');
             dayFeedbackAreaElement.classList.add('hidden');
             nextButtonElement.classList.add('hidden');
             startButton.classList.remove('hidden'); // é–‹å§‹ãƒœã‚¿ãƒ³ã‚’å†åº¦è¡¨ç¤º
             displayEventStatus(); // çµ‚äº†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è¡¨ç¤º
        }


        // é–‹å§‹ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        startButton.addEventListener('click', startQuiz);

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†æ™‚ã«ã‚¤ãƒ™ãƒ³ãƒˆæœŸé–“ã¨ä»Šæ—¥ã®çŠ¶æ…‹ã‚’è¡¨ç¤º
        window.onload = () => {
            displayEventStatus();
            startScreen.classList.remove('hidden');
            quizScreen.classList.add('hidden');
        };

    </script>
</body>
</html>
